<!DOCTYPE html>

<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Lista de Usuarios</title>
<link rel="stylesheet" href="https://www.google.com/search?q=https://cdn.jsdelivr.net/npm/bulma%400.9.3/css/bulma.min.css">
<link rel="stylesheet" href="https://www.google.com/search?q=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
<style>
body {
background-color: #f5f5f5;
}
.container {
margin-top: 2rem;
}
.table-container {
overflow-x: auto;
}
</style>
</head>
<body>
{% include 'navbar.html' %}
<div class="container">
<h1 class="title is-2 has-text-centered">¡Mira todos nuestros usuarios!</h1>
<div class="table-container">
<table class="table is-striped is-hoverable is-fullwidth">
<thead>
<tr>
<th>ID</th>
<th>Nombre</th>
<th>Usuario</th>
<th>Email</th>
<th>Teléfono</th>
<th>Rol</th>
<th>Acciones</th>
</tr>
</thead>
<tbody>
{% for user in users %}
<tr>
<td>{{ user.id }}</td>
<td>{{ user.nombre }} {{ user.primer_apellido }}</td>
<td>{{ user.usuario }}</td>
<td>{{ user.email }}</td>
<td>{{ user.telefono }}</td>
<td>{{ user.rol }}</td>
<td>
<div class="buttons is-small">
<a href="{{ url_for('editar_usuario', user_id=user.id) }}" class="button is-info is-light">
<span class="icon"><i class="fas fa-edit"></i></span>
<span>Editar</span>
</a>
<form action="{{ url_for('eliminar_usuario', user_id=user.id) }}" method="POST" style="display:inline;">
<button type="submit" class="button is-danger is-light" onclick="return confirm('¿De verdad quieres borrar a este usuario? ¡Piensalo bien!');">
<span class="icon"><i class="fas fa-trash-alt"></i></span>
<span>Eliminar</span>
</button>
</form>
</div>
</td>
</tr>
{% endfor %}
</tbody>
</table>
</div>
</div>
<script>
document.addEventListener('DOMContentLoaded', () => {
// Lógica para el menú de hamburguesa
const $navbarBurgers = Array.prototype.slice.call(document.querySelectorAll('.navbar-burger'), 0);
if ($navbarBurgers.length > 0) {
$navbarBurgers.forEach(el => {
el.addEventListener('click', () => {
const target = el.dataset.target;
const $target = document.getElementById(target);
el.classList.toggle('is-active');
$target.classList.toggle('is-active');
});
});
}
});
</script>
</body>
</html>
